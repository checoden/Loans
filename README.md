# Займы онлайн (Онлайн Кредиты)

Мобильное веб-приложение для просмотра и фильтрации предложений кредитов от микрофинансовых организаций. Разработано с приоритетом на мобильную версию и предоставляет расширенные возможности администрирования.

## Функциональность

### Пользовательская часть
- Просмотр и фильтрация микрофинансовых предложений
- Калькулятор кредитов для расчета платежей
- Отображение детальной информации о каждом предложении
- Открытие партнерских ссылок в WebView
- Адаптивный интерфейс, оптимизированный для мобильных устройств

### Административная часть
- Панель администратора для управления предложениями кредитов
- Аутентификация администраторов
- Добавление, редактирование и удаление предложений
- Отправка push-уведомлений пользователям

### Мобильное приложение (Android)
- Компиляция в APK с помощью GitHub Actions
- Поддержка push-уведомлений через OneSignal и Firebase Cloud Messaging
- Просмотр веб-страниц внутри приложения без перехода в браузер

## Технологический стек

### Frontend
- React (с хуками, контекстом, маршрутизацией)
- TypeScript для типизации
- TanStack Query для управления данными и кэшированием
- Tailwind CSS и shadcn/ui для стилизации
- Wouter для маршрутизации

### Backend
- Node.js с Express
- Drizzle ORM для работы с данными
- Система аутентификации на основе сессий
- In-memory хранилище данных для прототипирования

### Инструменты сборки и развертывания
- Vite для быстрой разработки
- Capacitor для конвертации в мобильное приложение
- GitHub Actions для CI/CD и сборки APK
- OneSignal для push-уведомлений

## Сборка мобильного приложения

Для сборки Android APK:

1. Создайте проект в [Firebase Console](https://console.firebase.google.com/) с пакетом `ru.checoden.onlineloans`
2. Скачайте файл `google-services.json` и поместите его в директорию `capacitor-app/`
3. Убедитесь, что секреты OneSignal добавлены в переменные среды:
   - `VITE_ONESIGNAL_APP_ID`
   - `VITE_ONESIGNAL_REST_API_KEY`
4. Запустите скрипты подготовки:
   ```bash
   node prepare-for-apk.js
   node setup-android-notification-channel.js
   ```
5. Создайте тег версии и отправьте его в репозиторий для автоматической сборки:
   ```bash
   git tag v1.x.x && git push --tags
   ```
6. GitHub Actions автоматически соберет APK

## Настройка и запуск

### Разработка
```bash
npm install
npm run dev
```

### Тестирование уведомлений
```bash
node run-push-server.js
```

## Учетные данные по умолчанию

Для доступа к административной панели:
- Логин: admin
- Пароль: admin123